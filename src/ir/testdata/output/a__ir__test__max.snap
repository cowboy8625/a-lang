---
source: src/ir/test.rs
expression: result
---
DefFunc(
    DefFunc {
        name: "max",
        params: [
            (
                Reg(
                    0,
                ),
                U64,
            ),
            (
                Reg(
                    1,
                ),
                U64,
            ),
        ],
        body: [
            Enter(
                Enter,
            ),
            Grt(
                Grt {
                    des: Reg(
                        2,
                    ),
                    lhs: Reg(
                        0,
                    ),
                    rhs: Reg(
                        1,
                    ),
                },
            ),
            Conditional(
                Conditional {
                    label: Label(
                        ".L0",
                    ),
                    reg: Reg(
                        2,
                    ),
                },
            ),
            Return(
                Return(
                    Reg(
                        0,
                    ),
                ),
            ),
            Jump(
                Jump(
                    Label(
                        ".exit",
                    ),
                ),
            ),
            DefLabel(
                DefLabel(
                    Label(
                        ".L0",
                    ),
                ),
            ),
            Return(
                Return(
                    Reg(
                        1,
                    ),
                ),
            ),
            Jump(
                Jump(
                    Label(
                        ".exit",
                    ),
                ),
            ),
            DefLabel(
                DefLabel(
                    Label(
                        ".exit",
                    ),
                ),
            ),
            Leave(
                Leave,
            ),
        ],
    },
)
DefFunc(
    DefFunc {
        name: "main",
        params: [],
        body: [
            Enter(
                Enter,
            ),
            LoadImm(
                LoadImm {
                    des: Reg(
                        0,
                    ),
                    imm: Imm(
                        1,
                    ),
                },
            ),
            LoadImm(
                LoadImm {
                    des: Reg(
                        1,
                    ),
                    imm: Imm(
                        2,
                    ),
                },
            ),
            Call(
                Call {
                    caller: Label(
                        "max",
                    ),
                    args: [
                        Reg(
                            0,
                        ),
                        Reg(
                            1,
                        ),
                    ],
                    ret: Reg(
                        2,
                    ),
                },
            ),
            Return(
                Return(
                    Reg(
                        2,
                    ),
                ),
            ),
            Jump(
                Jump(
                    Label(
                        ".exit",
                    ),
                ),
            ),
            DefLabel(
                DefLabel(
                    Label(
                        ".exit",
                    ),
                ),
            ),
            Leave(
                Leave,
            ),
        ],
    },
)

